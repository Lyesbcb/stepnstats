{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport config from \"../../config.json\";\nimport { getSecuretValueFor } from \"../secureStorage/index\";\nimport FormData from \"form-data\";\nmodule.exports = {\n  getAllMp: getAllMp,\n  getAllTemporality: getAllTemporality\n};\nvar baseURL = config.baseUrl + \"/mps\";\n\nfunction getAllMp(realm, date) {\n  var token, config;\n  return _regeneratorRuntime.async(function getAllMp$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          if (date == \"\") {\n            date = new Date();\n          }\n\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(getSecuretValueFor(\"token\"));\n\n        case 3:\n          token = _context2.sent;\n          config = {\n            method: \"get\",\n            url: baseURL + \"/\" + realm + \"/date\",\n            params: {\n              date: date\n            },\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            }\n          };\n          _context2.next = 7;\n          return _regeneratorRuntime.awrap(axios(config).then(function _callee(response) {\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    return _context.abrupt(\"return\", response.data);\n\n                  case 1:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          }).catch(function (error) {\n            console.log(error.response);\n          }));\n\n        case 7:\n          return _context2.abrupt(\"return\", _context2.sent);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction getAllTemporality(realm, temporality) {\n  var token, config;\n  return _regeneratorRuntime.async(function getAllTemporality$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return _regeneratorRuntime.awrap(getSecuretValueFor(\"token\"));\n\n        case 2:\n          token = _context4.sent;\n          config = {\n            method: \"get\",\n            url: baseURL + \"/\" + realm + \"/temporality\",\n            params: {\n              temporality: temporality\n            },\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token\n            }\n          };\n          _context4.next = 6;\n          return _regeneratorRuntime.awrap(axios(config).then(function _callee2(response) {\n            return _regeneratorRuntime.async(function _callee2$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    return _context3.abrupt(\"return\", response.data);\n\n                  case 1:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          }).catch(function (error) {\n            console.log(error.response);\n          }));\n\n        case 6:\n          return _context4.abrupt(\"return\", _context4.sent);\n\n        case 7:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"names":["axios","config","getSecuretValueFor","FormData","module","exports","getAllMp","getAllTemporality","baseURL","baseUrl","realm","date","Date","token","method","url","params","headers","Authorization","then","response","data","catch","error","console","log","temporality"],"sources":["C:/Users/lyes9/Documents/GitHub/stepnstats/stepnstats/front/services/mps/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport config from \"../../config.json\";\r\nimport {\r\n  getSecuretValueFor,\r\n} from \"../secureStorage/index\";\r\nimport FormData from \"form-data\";\r\n\r\nmodule.exports = {\r\n  getAllMp,\r\n  getAllTemporality,\r\n};\r\nconst baseURL = config.baseUrl + \"/mps\";\r\n\r\nasync function getAllMp(realm, date) {\r\n  if (date == \"\") {\r\n    date = new Date();\r\n  }\r\n  var token = await getSecuretValueFor(\"token\");\r\n  var config = {\r\n    method: \"get\",\r\n    url: baseURL + \"/\" + realm + \"/date\" ,\r\n    params: { date },\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  return await axios(config)\r\n    .then(async function (response) {\r\n      return response.data\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response);\r\n    });\r\n}\r\n\r\n\r\nasync function getAllTemporality(realm, temporality) {\r\n  var token = await getSecuretValueFor(\"token\");\r\n  var config = {\r\n    method: \"get\",\r\n    url: baseURL + \"/\" + realm + \"/temporality\" ,\r\n    params: { temporality },\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  return await axios(config)\r\n    .then(async function (response) {\r\n      return response.data\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error.response);\r\n    });\r\n}\r\n\r\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP;AACA,SACEC,kBADF;AAGA,OAAOC,QAAP,MAAqB,WAArB;AAEAC,MAAM,CAACC,OAAP,GAAiB;EACfC,QAAQ,EAARA,QADe;EAEfC,iBAAiB,EAAjBA;AAFe,CAAjB;AAIA,IAAMC,OAAO,GAAGP,MAAM,CAACQ,OAAP,GAAiB,MAAjC;;AAEA,SAAeH,QAAf,CAAwBI,KAAxB,EAA+BC,IAA/B;EAAA;EAAA;IAAA;MAAA;QAAA;UACE,IAAIA,IAAI,IAAI,EAAZ,EAAgB;YACdA,IAAI,GAAG,IAAIC,IAAJ,EAAP;UACD;;UAHH;UAAA,iCAIoBV,kBAAkB,CAAC,OAAD,CAJtC;;QAAA;UAIMW,KAJN;UAKMZ,MALN,GAKe;YACXa,MAAM,EAAE,KADG;YAEXC,GAAG,EAAEP,OAAO,GAAG,GAAV,GAAgBE,KAAhB,GAAwB,OAFlB;YAGXM,MAAM,EAAE;cAAEL,IAAI,EAAJA;YAAF,CAHG;YAIXM,OAAO,EAAE;cACP,gBAAgB,kBADT;cAEPC,aAAa,cAAYL;YAFlB;UAJE,CALf;UAAA;UAAA,iCAeeb,KAAK,CAACC,MAAD,CAAL,CACVkB,IADU,CACL,iBAAgBC,QAAhB;YAAA;cAAA;gBAAA;kBAAA;oBAAA,iCACGA,QAAQ,CAACC,IADZ;;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CADK,EAIVC,KAJU,CAIJ,UAAUC,KAAV,EAAiB;YACtBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACH,QAAlB;UACD,CANU,CAff;;QAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;;AAyBA,SAAeb,iBAAf,CAAiCG,KAAjC,EAAwCgB,WAAxC;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA,iCACoBxB,kBAAkB,CAAC,OAAD,CADtC;;QAAA;UACMW,KADN;UAEMZ,MAFN,GAEe;YACXa,MAAM,EAAE,KADG;YAEXC,GAAG,EAAEP,OAAO,GAAG,GAAV,GAAgBE,KAAhB,GAAwB,cAFlB;YAGXM,MAAM,EAAE;cAAEU,WAAW,EAAXA;YAAF,CAHG;YAIXT,OAAO,EAAE;cACP,gBAAgB,kBADT;cAEPC,aAAa,cAAYL;YAFlB;UAJE,CAFf;UAAA;UAAA,iCAYeb,KAAK,CAACC,MAAD,CAAL,CACVkB,IADU,CACL,kBAAgBC,QAAhB;YAAA;cAAA;gBAAA;kBAAA;oBAAA,kCACGA,QAAQ,CAACC,IADZ;;kBAAA;kBAAA;oBAAA;gBAAA;cAAA;YAAA;UAAA,CADK,EAIVC,KAJU,CAIJ,UAAUC,KAAV,EAAiB;YACtBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACH,QAAlB;UACD,CANU,CAZf;;QAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}